# Database Migrations

This directory contains database migration scripts for the Authentication Management Component using Alembic.

## Migration Commands

### Create a New Migration

To create a new migration automatically based on model changes:

```bash
alembic revision --autogenerate -m "Description of changes"
```

### Apply Migrations

To apply all pending migrations:

```bash
alembic upgrade head
```

To apply specific migrations:

```bash
alembic upgrade +1  # Apply the next migration
alembic upgrade <revision>  # Apply up to a specific revision
```

### Downgrade Migrations

To revert the last migration:

```bash
alembic downgrade -1
```

To revert to a specific revision:

```bash
alembic downgrade <revision>
```

### View Migration Information

To see the current migration status:

```bash
alembic current
```

To see migration history:

```bash
alembic history
```

## Project-Specific Guidelines

1. Always run tests after generating migrations and before applying them to production
2. Include meaningful descriptions in migration messages
3. Review autogenerated migrations for accuracy before committing them
4. For complex schema changes, consider writing manual migrations instead of using autogenerate

## Directory Structure

- `versions/`: Contains individual migration script files
- `env.py`: Configures the migration environment
- `script.py.mako`: Template for generating new migration scripts